<!DOCTYPE html>
<html>
  <head>
    <title>reCAPTCHA v3</title>
    <script src="https://www.google.com/recaptcha/api.js?render=6LdjHw4rAAAAAP57YgvSQVZKhAbq8DFIR9mzncU3"></script>
    <script>
      function executeCaptcha() {
        try {
          grecaptcha.ready(function () {
            grecaptcha.execute('6LdjHw4rAAAAAP57YgvSQVZKhAbq8DFIR9mzncU3', { action: 'submit' })
              .then(function (token) {
                if (token) {
                  Recaptcha.postMessage(token);
                } else {
                  Recaptcha.postMessage("error:Token is null");
                  alert("Captcha token is null.");
                }
              })
              .catch(function (error) {
                Recaptcha.postMessage("error:" + error.toString());
                alert("Captcha failed: " + error.toString());
              });
          });
        } catch (e) {
          Recaptcha.postMessage("error:" + e.toString());
          alert("Captcha exception: " + e.toString());
        }
      }
    </script>
  </head>
  <body>
    <h2>Verify with reCAPTCHA</h2>
    <button onclick="executeCaptcha()">Verify</button>
  </body>
</html>
